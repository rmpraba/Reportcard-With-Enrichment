
<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="curriculum-plan-conceptapproval-itemcard">
  <template>
    <style>
    table
      {   table-layout: fixed;
          width: 1900px;;
          border-collapse: collapse;
          margin-left: -1%;
          margin-top: 0%;
        }
    </style>
    <!-- <div>
      <table border="1" style="border-collapse: collapse;">
        <tr>
          <td width="30px">{{sno}}</td>
          <td hidden>{{rowid}}</td>
          <td hidden>{{conceptid}}</td>
          <td width="150px">{{conceptname}}</td>
          <td hidden>{{subconceptid}}</td>
          <td width="180px">{{subconceptname}}</td>
          <td width="15px">{{period}}</td>
          <td width="70px">{{fromdate}}</td>
          <td width="70px">{{todate}}</td>
          <td width="80px">{{skill}}</td>
          <td width="80px">{{value}}</td>
          <td width="130px">{{innovation}}</td>
          <td width="130px">{{lr}}</td>
          <td width="150px">{{remarks}}</td>
          <td width="75px">{{correctionstatus}}</td>
          <td width="75px" hidden$="{{hidetitleflag}}">{{completionstatus}}</td>
          <td width="75px" hidden$="{{hideflag}}">
          <paper-checkbox id="cpayes{{subconceptid}}"  on-change="FnYes">Yes</paper-checkbox>
          <paper-checkbox id="cpano{{subconceptid}}" on-change="FnNo">No</paper-checkbox>
          </td>
          <td width="30px" hidden$="{{hidetitleflag}}"></td>
          <td width="30px" hidden$="{{hideflag}}"><paper-icon-button icon="save" on-click="FnSave"></paper-icon-button></td>
        </tr>
      </table>
    </div> -->

    <table border="1" style="border-collapse: collapse;">
        <tr>
              <td style="width: 2.85%;">{{sno}}</td>
              <td style="width: 10%;">{{conceptname}}</td>
              <td style="width: 9%;">{{subconceptname}}</td>
              <td style="width: 3.85%;text-align: center;">{{period}}</td>
              <td style="width: 6.6%;">
              {{skill}}
              </td>
              <td style="width: 6.6%;">
                {{value}}
              </td>
              <td style="padding-left: 0%;width: 6.6%;">{{innovation}}</td> 
              <td style="width: 6.6%;">{{fromdate}}</td>
              <td style="width: 6.56%;">
               {{todate}}
              
              </td>               
              <td style="width: 6.56%;">{{lr}}</td>
              <td style="width: 6.56%;">{{remarks}}</td>
              <td style="width: 6.56%;">
               <div hidden$="{{hidetitleflag}}">{{correctionstatus}}</div>
                <paper-input value={{correctionstatus}} hidden$="{{hideflag}}"></paper-input>
             </td>
              <td hidden$="{{hidetitleflag}}" style="width: 6.56%;">{{completiondate}}</td>
              <td hidden$="{{hideflag}}" style="width: 6.56%;">
              <complection-date-picker-card></complection-date-picker-card>
              </td>
              <td hidden$="{{hidetitleflag}}" style="width: 6.56%;">{{completionstatus}}</td>
              <td hidden$="{{hideflag}}" style="width: 6.56%;">
                <paper-checkbox id="cpayes{{subconceptid}}"  on-change="FnYes">Yes</paper-checkbox><br>
                <paper-checkbox id="cpano{{subconceptid}}" on-change="FnNo">No</paper-checkbox>
              </td>
              <td style="width: 6.56%;">
                <div hidden$="{{hidetitleflag}}">{{enrichmentsug}}</div>
                <paper-input value={{enrichmentsuggest}} hidden$="{{hideflag}}"></paper-input>
              </td>              
              <td  hidden$="{{hidetitleflag}}"></td>
              <td hidden$="{{hideflag}}"><paper-icon-button icon="save" on-click="FnSave"></paper-icon-button></td>
            
        </tr>
      </table>

    <teacher-book-service-card id="bookservice"></teacher-book-service-card>
  </template>
  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'curriculum-plan-conceptapproval-itemcard',
      FnYes:function(e){
        if(document.querySelector("#cpayes"+this.subconceptid).checked==true){
        this.completionstatus="Yes";
        document.querySelector("#cpano"+this.subconceptid).checked=false;
        }
        if(document.querySelector("#cpayes"+this.subconceptid).checked==false)
        this.completionstatus="";
      },
      FnNo:function(e){
        if(document.querySelector("#cpano"+this.subconceptid).checked==true)
        {
        this.completionstatus="No";
        document.querySelector("#cpayes"+this.subconceptid).checked=false;
        }
        if(document.querySelector("#cpano"+this.subconceptid).checked==false)
        this.completionstatus="";
      },
      FnSave:function(){
        var obj={};
        obj.sno=this.sno;
        obj.rowid=this.rowid;
        obj.conceptid=this.conceptid;
        obj.conceptname=this.conceptname;
        obj.subconceptid=this.subconceptid;
        obj.subconceptname=this.subconceptname;
        obj.period=this.period;
        obj.fromdate=this.fromdate;
        obj.todate=this.todate;
        obj.skill=this.skill;
        obj.value=this.value;
        obj.innovation=this.innovation;
        obj.lrrectification=this.lr;
        obj.remarks=this.remarks;
        obj.correctionstatus=this.correctionstatus;
        obj.enrichmentsuggest=this.enrichmentsuggest;
        if(document.querySelector("#cpayes"+this.subconceptid).checked==true)
          obj.completionstatus="Yes";
        if(document.querySelector("#cpano"+this.subconceptid).checked==true)
          obj.completionstatus="No";
        // alert(JSON.stringify(obj));
        this.$.bookservice.updateapprovalstatusofchapterconcept(obj);           
      }
    });
  })();
  </script>
</dom-module>
